!function(e){e(document).ready(function(){e("#account-subscribe-toggle").on("change",function(){var t=cruip_js_vars.ajax_url,s=e(this),i=e(this).prev(".account-toggle-feed");i.addClass("is-hidden"),s.addClass("is-loading").prop("disabled",!0);var n={action:"cruip_account_subscribe",post_id:s.data("post_id"),track:"account-settings",nonce:s.data("nonce")};e.post(t,n,function(t){!0===t.success?(i.removeClass("is-hidden").html(t.data),setTimeout(function(){i.addClass("is-hidden")},1e3),s.is(":checked")?e("body").removeClass("is-not-subscriber"):e("body").addClass("is-not-subscriber")):i.removeClass("is-hidden").html(t.data),s.removeClass("is-loading").prop("disabled",!1)})})})}(jQuery),function(){const e=document,t=e.querySelector(".demo-preview-select"),s=e.querySelector(".demo-preview-selected"),i=e.querySelector(".demo-preview-select-list"),n=e.querySelector(".demo-preview-iframe");t&&(s.addEventListener("click",function(){t.classList.toggle("is-open")}),document.addEventListener("click",function(e){console.log(e.target),e.target.closest(".demo-preview-select")&&!e.target.classList.contains("demo-preview-select-link")||t.classList.contains("is-open")&&t.classList.remove("is-open")}),window.addEventListener("blur",function(){document.activeElement instanceof HTMLIFrameElement&&t.classList.contains("is-open")&&t.classList.remove("is-open")}),window.addEventListener("message",function(t){if("https://preview.cruip.com"!==t.origin)return;let a=t.data;0!==a.length&&(i.innerHTML="",a.forEach(function(t){!0===t.active&&(s.getElementsByTagName("span")[0].innerHTML=t.name);let a=e.createElement("li"),o=e.createElement("a");o.href=t.url,o.innerHTML=t.name,o.classList.add("demo-preview-select-link"),!0===t.active&&o.classList.add("demo-preview-select-link-active"),i.appendChild(a),a.appendChild(o),o.addEventListener("click",function(e){e.preventDefault(),n.src=this.href})}))}))}(),function(e){var t=e(".demo-preview-iframe"),s=e(".demo-preview-desktop"),i=e(".demo-preview-mobile");t.load(function(){e(".demo-preview-content").removeClass("is-loading")}),s.on("click",function(e){e.preventDefault(),t.is(".demo-preview-iframe-mobile")&&(s.addClass("is-active"),i.removeClass("is-active"),t.css({opacity:0}),t.removeClass("demo-preview-iframe-mobile"),setTimeout(function(){t.animate({opacity:1},250)},250))}),i.on("click",function(e){e.preventDefault(),s.removeClass("is-active"),i.addClass("is-active"),t.is(".demo-preview-iframe-mobile")||(t.css({opacity:0}),t.addClass("demo-preview-iframe-mobile"),setTimeout(function(){t.animate({opacity:1},250)},250))})}(jQuery),function(e){e(document).ready(function(){var t=e(".load-more a"),s=e(".templates");t.on("click",function(i){i.preventDefault(),t.addClass("is-loading"),e.ajax({url:t.attr("href"),dataType:"html"}).done(function(i){var n=e(i),a=n.find(".templates > .template"),o=n.find(".load-more a").attr("href");a.addClass("is-loading").insertAfter(s.find(".template").last()),a.each(function(t){var s;setTimeout((s=e(this),function(){s.removeClass("is-loading")}),200*t)}),o?t.attr("href",o):t.parent().remove(),e("html, body").animate({scrollTop:a.first().offset().top-80},{duration:400,queue:!1})}).always(function(){t.removeClass("is-loading")})})})}(jQuery),function(){const e=document,t=e.documentElement,s=e.body,i=document.getElementById("header-nav-toggle"),n=document.getElementById("header-nav"),a=e.getElementById("user-avatar"),o=e.getElementById("user-dropdown"),l=e.getElementById("login-modal"),c=e.getElementById("after-download-modal");t.classList.remove("no-js"),t.classList.add("js"),i&&(i.addEventListener("click",function(){document.body.classList.toggle("off-nav-is-active"),n.classList.toggle("is-active"),n.style.maxHeight?n.style.maxHeight=null:n.style.maxHeight=n.scrollHeight+"px","true"===this.getAttribute("aria-expanded")?this.setAttribute("aria-expanded","false"):this.setAttribute("aria-expanded","true")}),document.addEventListener("click",function(e){e.target===n||e.target===i||n.contains(e.target)||(document.body.classList.remove("off-nav-is-active"),n.classList.remove("is-active"),n.style.maxHeight=null,i.setAttribute("aria-expanded","false"))})),a&&(a.onclick=(()=>{o.classList.toggle("is-active")}),window.onclick=(e=>{e.target.closest(".user-avatar")||o.classList.contains("is-active")&&o.classList.remove("is-active")})),e.addEventListener("click",function(e){if(e.target.classList.contains("signin-trigger")&&!s.classList.contains("logged-in")&&null!=l){const s=e.target;(!s.closest(".template")&&!s.closest(".demo-preview")||s.closest(".template")&&!s.closest(".template").classList.contains("tag-pro")||s.closest(".demo-preview")&&!s.closest(".demo-preview").classList.contains("tag-pro"))&&(e.preventDefault(),t.classList.add("modal-is-active"),l.classList.add("is-active"))}if(e.target.classList.contains("download-trigger")&&s.classList.contains("logged-in")&&null!=c){const i=e.target;(!s.classList.contains("is-not-member")||s.classList.contains("is-not-member")&&i.closest(".template")&&!i.closest(".template").classList.contains("tag-pro"))&&(t.classList.add("modal-is-active"),c.classList.add("is-active"))}});const r=e.getElementsByClassName("modal"),d=e.querySelectorAll(".modal-background, .modal-close");if(d)for(let e=0;e<d.length;e++)d[e].addEventListener("click",function(){u()});function u(){t.classList.remove("modal-is-active");for(let e=0;e<r.length;e++)r[e].classList.remove("is-active")}e.addEventListener("keydown",function(e){27===(e||window.event).keyCode&&u()});const m=document.getElementsByClassName("accordion-title");if(m.length)for(let e=0;e<m.length;e++)m[e].addEventListener("click",function(){this.parentNode.classList.toggle("is-open");const e=this.nextElementSibling;e.style.maxHeight?e.style.maxHeight=null:e.style.maxHeight=`${e.scrollHeight}px`});function v(e){return e.getBoundingClientRect().left}function p(e){return e.getBoundingClientRect().top+window.scrollY}function f(e){return e.getBoundingClientRect().bottom+window.scrollY}function g(e){let t=e.previousSibling;for(;t;){if(1===t.nodeType&&(e.querySelector("div").style.marginTop=0,v(t)===v(e))){e.querySelector("div").style.marginTop=-(p(e)-f(t))+"px";break}t=t.previousSibling}}if("ontouchstart"in window&&(s.classList.add("is-touch"),window.addEventListener("pointerdown",function(t){let s=e.querySelectorAll(".template-thumbnail-buttons");for(let e=0;e<s.length;e++)"1"===window.getComputedStyle(s[e]).getPropertyValue("opacity")?s[e].classList.add("enable-buttons-on-touch"):s[e].classList.remove("enable-buttons-on-touch")})),s.classList.contains("is-not-logged-in")&&window.addEventListener("load",function(){window.cookieconsent.initialise({location:!0,container:e.getElementById("cookie-container"),content:{message:cruip_js_vars.message,dismiss:cruip_js_vars.dismiss,link:cruip_js_vars.link,href:cruip_js_vars.url}})}),e.querySelector(".testimonials")){const t=e.querySelectorAll(".testimonial");for(let e=0;e<t.length;e++)g(t[e]),window.addEventListener("load",function(){g(t[e])}),window.addEventListener("resize",function(){g(t[e])})}}(),function(e){e(document).ready(function(){e(".subscribe-form").on("click",".subscribe-submit",function(t){var s=cruip_js_vars.ajax_url,i=e(this),n=i.closest(".subscribe-form");e(".subscribe-msg").addClass("is-hidden"),i.addClass("is-loading").prop("disabled",!0),n.find(".input").prop("disabled",!0);var a={action:"cruip_subscribe_user",post_id:i.data("post_id"),track:i.data("track"),nonce:i.data("nonce"),email:n.find(".subscribe-email").val(),first_name:n.find(".subscribe-first-name").val(),last_name:n.find(".subscribe-last-name").val()};e.post(s,a,function(t){!0===t.success?(n.find(".subscribe-success").removeClass("is-hidden").html(t.data),e("body").removeClass("is-not-subscriber")):n.find(".subscribe-error").removeClass("is-hidden").html(t.data),i.removeClass("is-loading").prop("disabled",!1),n.find(".input").prop("disabled",!1)})})})}(jQuery);